!function(e,t){"use strict";angular.module("adf.widget.dash",["adf.provider","highcharts-ng"]).value("dashApiUrl","/NewBrowser/api/").config(["dashboardProvider",function(e){var t={reload:!0,edit:{templateUrl:"widgets/dash/src/edit.html"}};e.widget("cpubusy",angular.extend({title:"CPU Info",description:"Chart of CPU trend data",templateUrl:"widgets/dash/src/view2.html",controller:"cpubusyCtrl"},t)).widget("ipubusy",angular.extend({title:"IPU Info",description:"Chart of IPU trend data",templateUrl:"widgets/dash/src/view.html",controller:"ipubusyCtrl"},t)).widget("diskinfo",angular.extend({title:"Disk Info",description:"Chart of Disk Info trend data",templateUrl:"widgets/dash/src/view2.html",controller:"diskCtrl"},t))}]),angular.module("adf.widget.dash").run(["$templateCache",function(e){e.put("{widgetsPath}/dash/src/edit.html",'<form role=form><div class=form-group><label for=systemserial>System Serial</label> <input type=text class=form-control id=systemserial ng-model=config.systemserial placeholder="Enter System Serial"></div></form>'),e.put("{widgetsPath}/dash/src/view.html","<div><highchart id=chart1 config=highchartsNG></highchart></div>"),e.put("{widgetsPath}/dash/src/view2.html",'<div><select ng-model=selSeries ng-change=updateChart()><option ng-repeat="info in chartInfo" value={{info.value}}>{{info.displayName}}</option></select><highchart id=chart1 config=chartConfig></highchart></div>')}]),angular.module("adf.widget.dash").service("dashService",["$http",function(e){var t=dashApiUrl+"/processinfodata";this.getCPUBusy=function(a){return e.post(t,a).then(function(e){return e.data},function(e){console.log("CPU Busy data retrieval failed.")})},this.getIPUBusy=function(a){return e.post(t,a).then(function(e){return e.data},function(e){console.log("CPU Busy data retrieval failed.")})},this.getDiskInfo=function(a){return e.post(t,a).then(function(e){return e.data},function(e){console.log("CPU Busy data retrieval failed.")})}}]),angular.module("adf.widget.dash").controller("ipubusyCtrl",["$scope",function(e){e.highchartsNG={chart:{zoomType:"xy"},title:{text:"IPU Busy"},yAxis:[{labels:{format:"{value}°C",style:{color:Highcharts.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Highcharts.getOptions().colors[2]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Highcharts.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Highcharts.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:[{name:"Sea-Level Pressure",type:"area",yAxis:1,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},tooltip:{valueSuffix:" mb"}},{name:"Rainfall",type:"line",data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Temperature",type:"line",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}]}}]),angular.module("adf.widget.dash").controller("diskCtrl",["$scope",function(e){e.highchartsNG={chart:{zoomType:"xy"},title:{text:"Disk IO"},yAxis:[{labels:{format:"IO",style:{color:Highcharts.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Highcharts.getOptions().colors[2]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Highcharts.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Highcharts.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:[{name:"Sea-Level Pressure",type:"area",yAxis:1,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},tooltip:{valueSuffix:" mb"}},{name:"Rainfall",type:"line",data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Temperature",type:"line",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}]}}]),angular.module("adf.widget.dash").controller("cpubusyCtrl",["$scope",function(e){e.memData=[],e.cpuData=[];for(var t=14226624e5,a=[],o=[],i=0;10>i;i++)e.memData.push([t,Math.floor(20*Math.random())+1]),a.push([t,Math.floor(20*Math.random())+1]),o.push([t,Math.floor(20*Math.random())+1]),t+=864e5;e.cpuData.push(a),e.cpuData.push(o),e.selSeries="busy",e.chartInfo=[{value:"busy",displayName:"% Busy"},{value:"qlen",displayName:"Queue length"},{value:"mem",displayName:"Memory used (MB)"},{value:"disp",displayName:"Dispatch rate / second"}],e.chartConfig={options:{chart:{zoomType:"x"},plotOptions:{scatter:{lineWidth:1}},tooltip:{hideDelay:1e3,useHTML:!0,headerFormat:"<div id='my-tooltip'>",pointFormat:"{point.x} x {point.y} y",footerFormat:"<a href='http://google.com' target='_blank'>Example HyperLink</a></div>",valueDecimals:2},xAxis:{gapGridLineWidth:30,type:"datetime",dateTimeLabelFormats:{second:"%d %b %Y<br/>%H:%M:%S",minute:"%d %b %Y<br/>%H:%M",hour:"%d %b %Y<br/>%H:%M",day:"%d %b %Y<br/>%H:%M",week:"%d %b %Y",month:"%b %Y",year:"%Y"}},yAxis:[{min:0,allowDecimals:!1,title:{text:"Busy %"},labels:{format:"{value}",style:{color:"#80a3ca"}},opposite:!1},{min:0,allowDecimals:!1,title:{text:"Disk IO/Sec"},labels:{format:"{value}"},opposite:!0}],rangeSelector:{buttons:[{type:"hour",count:3,text:"3h"},{type:"day",count:1,text:"1d"},{type:"week",count:1,text:"1w"},{type:"all",text:"All"}],selected:2,inputEnabled:!1},navigator:{enabled:!0},legend:{enabled:!0}},series:[],title:{text:"CPU"},useHighStocks:!0},e.updateChart=function(){e.chartConfig.series.push({id:1,name:"CPU 00",type:"scatter",data:[[11476512e5,23.15],[11477376e5,23.01],[1147824e6,22.73],[11479104e5,22.83],[11479968e5,22.56],[1148256e6,22.88],[11483424e5,22.79],[11484288e5,23.5],[11485152e5,23.74],[11486016e5,23.72],[11489472e5,23.15],[11490336e5,22.65]]},{id:2,name:"CPU 01",type:"scatter",data:[[11476512e5,25.15],[11477376e5,25.01],[1147824e6,25.73],[11479104e5,25.83],[11479968e5,25.56],[1148256e6,25.88],[11483424e5,25.79],[11484288e5,25.5],[11485152e5,26.74],[11486016e5,26.72],[11489472e5,26.15],[11490336e5,26.65]]})},e.updateChart()}])}(window);